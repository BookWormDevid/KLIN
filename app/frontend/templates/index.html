<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–õ–ò–ù - –ê–Ω–∞–ª–∏–∑ –≤–∏–¥–µ–æ</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>

<body>
    <div class="container">
        <header class="header">
            <h1>–ö–õ–ò–ù</h1>
            <p class="subtitle">–°–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª–∏–∑–∞ –∞–≥—Ä–µ—Å—Å–∏–∏ —Å –≤–∏–¥–µ–æ–ø–æ—Ç–æ–∫–æ–≤</p>
        </header>

        <main class="main-content">
            <!-- Upload Section -->
            <section class="upload-section">
                <div class="upload-card">
                    <h2>–ê–Ω–∞–ª–∏–∑ –≤–∏–¥–µ–æ</h2>
                    <p class="description">
                        –ó–∞–≥—Ä—É–∑–∏—Ç–µ –≤–∏–¥–µ–æ—Ñ–∞–π–ª –∏–ª–∏ —É–∫–∞–∂–∏—Ç–µ —Å—Å—ã–ª–∫—É –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –Ω–∞ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ
                    </p>

                    <!-- File Upload - always visible -->
                    <div class="upload-method">
                        <h3>üìÅ –ó–∞–≥—Ä—É–∑–∏—Ç—å –≤–∏–¥–µ–æ—Ñ–∞–π–ª</h3>
                        <div class="file-drop-zone" id="drop-zone">
                            <div class="drop-content">
                                <div class="upload-icon">üì§</div>
                                <p>–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –≤–∏–¥–µ–æ—Ñ–∞–π–ª —Å—é–¥–∞ –∏–ª–∏</p>
                                <input type="file" id="file-input" accept="video/*" hidden>
                                <button class="browse-btn" onclick="document.getElementById('file-input').click()">
                                    –í—ã–±—Ä–∞—Ç—å —Ñ–∞–π–ª
                                </button>
                                <p class="file-info">–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã: MP4, AVI, MOV, MKV</p>
                            </div>
                        </div>
                        <div class="file-info-display" id="file-info"></div>
                    </div>

                    <!-- Divider -->
                    <div class="upload-divider">
                        <span>–ò–õ–ò</span>
                    </div>

                    <!-- URL Input - always visible -->
                    <div class="upload-method">
                        <h3>üîó –£–∫–∞–∑–∞—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ –≤–∏–¥–µ–æ</h3>
                        <div class="url-input-group">
                            <input type="url" id="video-url" placeholder="https://example.com/video.mp4">
                            <button class="url-test-btn" onclick="testUrl()">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Å—ã–ª–∫—É</button>
                        </div>
                    </div>

                    <!-- Analyze Button -->
                    <button class="analyze-btn" id="analyze-btn" disabled onclick="analyzeVideo()">
                        –ù–∞—á–∞—Ç—å –∞–Ω–∞–ª–∏–∑
                    </button>
                </div>
            </section>

            <!-- Results Section -->
            <section class="results-section" id="results-section" style="display: none;">
                <div class="results-card">
                    <h2>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–∞</h2>

                    <!-- Video Player -->
                    <div class="video-container">
                        <video id="video-player" controls>
                            –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–∏–¥–µ–æ —Ç–µ–≥.
                        </video>
                    </div>

                    <!-- Analysis Status -->
                    <div class="analysis-status">
                        <div class="status-header">
                            <h3>–°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã</h3>
                            <div class="real-time-badge">–í —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏</div>
                        </div>

                        <div class="status-grid">
                            <div class="status-item">
                                <div class="status-label">
                                    <span class="status-icon">‚ö°</span>
                                    –°—Ç–∞—Ç—É—Å –∞–Ω–∞–ª–∏–∑–∞
                                </div>
                                <div class="status-value" id="analysis-status">--</div>
                                <div class="status-description">–û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–∏–¥–µ–æ</div>
                            </div>

                            <div class="status-item">
                                <div class="status-label">
                                    <span class="status-icon">üîÆ</span>
                                    –†–µ–∑—É–ª—å—Ç–∞—Ç
                                </div>
                                <div class="status-value" id="prediction-result">--</div>
                                <div class="status-description">–†–µ–∑—É–ª—å—Ç–∞—Ç ML –º–æ–¥–µ–ª–∏</div>
                            </div>

                            <div class="status-item">
                                <div class="status-label">
                                    <span class="status-icon">üìä</span>
                                    –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å
                                </div>
                                <div class="status-value" id="confidence-level">--</div>
                                <div class="status-description">–£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –º–æ–¥–µ–ª–∏</div>
                            </div>
                        </div>
                    </div>

                    <!-- Detailed Info -->
                    <div class="detailed-info">
                        <h3>–î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
                        <div class="info-grid">
                            <div class="info-item">
                                <label>–í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏:</label>
                                <span id="processing-time">--</span>
                            </div>
                            <div class="info-item">
                                <label>–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤–∏–¥–µ–æ:</label>
                                <span id="video-duration">--</span>
                            </div>
                            <div class="info-item">
                                <label>–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –∫–∞–¥—Ä–æ–≤:</label>
                                <span id="frames-analyzed">--</span>
                            </div>
                        </div>
                    </div>

                    <!-- Event Log -->
                    <div class="event-log">
                        <h3>–ñ—É—Ä–Ω–∞–ª —Å–æ–±—ã—Ç–∏–π</h3>
                        <div class="log-container" id="event-log">
                            <div class="log-entry">
                                <span class="log-time">12:00:00</span>
                                <span class="log-message">–°–∏—Å—Ç–µ–º–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <footer class="footer">
            <p>–ö–õ–ò–ù - –°–∏—Å—Ç–µ–º–∞ –∞–Ω–∞–ª–∏–∑–∞ –∞–≥—Ä–µ—Å—Å–∏–∏ —Å –≤–∏–¥–µ–æ–ø–æ—Ç–æ–∫–æ–≤ ‚Ä¢ v1.0</p>
        </footer>
    </div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loading-overlay" style="display: none;">
        <div class="loading-spinner"></div>
        <p id="loading-message">–û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–∏–¥–µ–æ...</p>
    </div>

    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>

</html>